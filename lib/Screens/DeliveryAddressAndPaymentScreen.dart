import 'package:flutter/material.dart';
import 'package:hive/hive.dart';
import 'package:shared_preferences/shared_preferences.dart';

import '../CommonHelper/BusinessLogic.dart';
class DeliveryAddressAndPaymentScreen extends StatefulWidget {
  const DeliveryAddressAndPaymentScreen({super.key});

  @override
  State<DeliveryAddressAndPaymentScreen> createState() => _DeliveryAddressAndPaymentScreenState();
}

class _DeliveryAddressAndPaymentScreenState extends State<DeliveryAddressAndPaymentScreen> {
  List  userdatalist=[];
  BusinessLogic bl = BusinessLogic();

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text("Payment Summary"),
      ),
      body: ListView(
        children: [
          /// Address Container
          FutureBuilder(
              future: getvalues(),
              builder: (context,snapshot){
                return Container(
                  margin: EdgeInsets.symmetric(horizontal: 8.0,vertical: 5.0),
                  decoration: BoxDecoration(
                      color: Colors.red.shade500,
                      borderRadius: BorderRadius.circular(14.0)
                  ),
                  child: Column(
                    children: [
                      ListTile(
                        title: Text(userdatalist[0]),
                        subtitle: Text(userdatalist[1]),
                        leading: Icon(Icons.person_outline),
                      ),
                      ListTile(
                        leading: Icon(Icons.location_city_outlined),
                        title: Text("Address"),
                        subtitle: Text(userdatalist[3]),
                      ),
                      ListTile(
                        title: Text(userdatalist[2]),
                        leading: Icon(Icons.phone_outlined),
                        onTap: (){

                        },
                      )
                    ],
                  ),
                );
              }),
          /// Items Expandable View
          /// Delivery Container
          Container(
            height: 200,
            margin: EdgeInsets.symmetric(horizontal: 8.0,vertical: 5.0),
            decoration: BoxDecoration(
              borderRadius: BorderRadius.circular(14.0),
              color: Colors.green
            ),
            child: Column(
              children: [
                ListTile(
                  title: Text("Total Amount :"),
                  subtitle: Text("\$100"),
                )
              ],
            ),
          )
        ],
      ),
    );
  }

  Future getvalues() async {
    this.userdatalist.clear();
    final SharedPreferences sp = await SharedPreferences.getInstance();
    userdatalist =  sp.getStringList("userdata")!;
    print("VALUES FROM SHAREDPREFERENCES ${userdatalist}");
  }
}

import 'dart:convert';
import 'package:flutter/services.dart';
import 'package:pentesting/CommonHelper/UserRegistrationModel.dart';
import 'package:pentesting/ItemsModel.dart';
import 'package:shared_preferences/shared_preferences.dart';

class BusinessLogic {

    List<ItemsModel> itemslist3 = [];

  void SaveUserDataToSharedPrefernces(UserRegsitrationModel usermodel) async{
     final sp = await SharedPreferences.getInstance();
     sp.setStringList("userdata", [usermodel.username,usermodel.useremail,usermodel.userphone,usermodel.userpassword]);
     print("User Data Is : ${usermodel.username}\n ,${usermodel.useremail}\n,,${usermodel.userphone}\n,,${usermodel.userpassword}\n,");
  }


   Future<List<ItemsModel>> LoadData() async{
   try{
     final  response =await rootBundle.loadString("Assets/Json/groceries.json");
     var data =await jsonDecode(response);
     print("DATA IS ${data}");

     for(Map<String,dynamic> i in data){
           ItemsModel im = new ItemsModel(
             productname:i['productname'].toString() ,
             productimage: i['productimage'].toString(),
             productprice: i['productprice'].toString(),
             productdescription: i['productdescription'].toString(),
           );
           itemslist3.add(im);
     }
   }catch(e){
     print("EXCEPTION CAUGHT :${e.toString()}");
   }
   print("ITEMLIST 3 LENGTH IS ${itemslist3.length}");
   return itemslist3;
  }






}
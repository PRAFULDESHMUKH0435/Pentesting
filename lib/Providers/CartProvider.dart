import 'package:flutter/foundation.dart';
import 'package:hive/hive.dart';
import 'package:pentesting/Models/CartModel.dart';
class CartProvider with ChangeNotifier{

  int cartQuantity =0;
  List cartitemslist=[];
  var cartbox = Hive.box("CartItemsBox");

  AddItemToCart(CartModel cartModel){
    cartitemslist = cartbox.toMap().values.toList();
    print("Initial CartItems List From CartBox IS ${cartitemslist}");
    cartbox.add(cartModel);
    cartitemslist = cartbox.toMap().values.toList();
    print("Final CartItems List From CartBox IS ${cartitemslist}");
    cartQuantity+=1;
    notifyListeners();
  }





  DeleteItemModelFromBox(int index){
    if(index<cartitemslist.length){
      cartbox.deleteAt(index);
      cartitemslist.removeAt(index);
      cartQuantity-=1;
      print("Item ${cartitemslist[index].ItemName} Deleted Successfully");
    }else{
      print("Error In Deleting Item At Index ${index}");
    }
    notifyListeners();
  }
}